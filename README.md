# Stack-based Memory Management: 論文要約

## 概要
本リポジトリには論文 `stack_paper.pdf` が含まれています。本 README はその内容を日本語で要約したものです。

## タイトル（推定）
A type system for stack-based memory management

## 著者・日付（PDFより）
著者: wo4mei3（PDFヘッダに記載）
日付: 2026-01-06

## 要旨（日本語）
本論文は、stack（スタック）に基づくメモリ管理のための型システムを提案する。既存の Tofte–Talpin 型システムはリージョンに柔軟性がある反面、プログラマによる注釈が難しい。本研究では、スタック領域の「最後に束縛された領域（most-recently-allocated region）」に参照を制限することで注釈の複雑さを軽減し、静的に安全なメモリ管理を達成する言語と型システムを提示する。

## 貢献
- スタックベースの参照生成に制約を課す新しい言語設計の提案。
- その言語に対する型システムの定義（文法・操作的意味論・型付け規則）。
- 型安全性（健全性）の証明スケッチ（store/stack の型付け、補題群、保存性・進行性の議論）。

## 言語の特徴（要点）
- 参照は全てスタック上に保存され、ブロック外へエスケープできない設計。
- 新しい自動変数はスタックの一番上を伸長して確保され、参照は常に最後に確保された region に結び付く。
- region 多相や effect 多相は未実装（将来の課題）。

## 型システム（要点）
- 型環境 `Γ`、ブロック環境 `∆`、スタック型環境 `Σ` などを導入。
- 参照に対して位置（place）や effect 情報 `ϕ` を持たせ、型付け規則で参照の生成・参照・代入・ブロックの振る舞いを扱う。
- 主要補題：store 型付けに対する代入補題、stack の拡張補題、stack push/pop 補題 など。

## 正当性（健全性）の概要
論文は、導入した型システムが型保存性と進行性（あるいはそれに相当する健全性）を満たすことを示す。証明は補題（スタック拡張、置換、push/pop）を構成し、評価規則と型付け規則の整合性を帰納的に示すことで達成している。

## 制限と今後の課題
- region 多相や effect 多相が未実装のため、ヒープ相当の表現力を持たせるには追加設計が必要。
- 実装や型推論の観点でどの程度明示的注釈を削減できるかの評価が未示。

## リポジトリ内のファイル
- `stack_paper.pdf` — 論文本体（原文・訳のいずれか）。
- `README.md` — 本ファイル（論文要約）。

## 引用方法（例）
論文を引用する際は、PDF のヘッダ情報を参照して著者名・タイトル・年を記載してください。

---
この README は `stack_paper.pdf` の内容に基づき作成しました。原文の詳細な定義・証明は PDF を参照してください。

## License
この論文およびリポジトリの内容は Creative Commons Attribution 4.0 International (CC BY 4.0) の下で提供されます。詳しくは `LICENSE` を参照してください。

# 更新履歴
## first commitからcommit b5f90f6まで
p.2.の∆, ρを∆, pに修正

p.4.のT-App,T-AssignのΣの並びを修正

p.4.のStack TypingのT-Stack1の定義を次のように修正
before:
∅; ∅ ⊢ ∅
after:
∅⊢∅

p.5.のPFPV ((•, l)) = {•}をPFPV ((•, l)) = ∅に修正

p.6.の記述を次のように変更
before:
```
Γ; ∆; Σ1 ; Σ2 ⊢ t : T &ϕ は、型環境 Γ、ブロック環境 ∆、事前の stack 型環境 Σ1 、項が確保した stack 型
環境 Σ2 のもとで、項 t が型 T を持ち、効果 ϕ を持つことを表す。ここで、Σ1 は項の実行前に確保され
た stack で、Σ2 は項自身が確保した stack である。Σ2 は項が値にまで簡約しきる間にすべて解放されて
ないとならない。型システムではこれら 2 つを区別する。
```
after:
```
型付け判断、Γ; ∆; Σ1 ; Σ2 ⊢ t : T &ϕ は、型環境 Γ、ブロック環境 ∆、事前の stack 型環境 Σ1 、項が確保
した stack 型環境 Σ2 のもとで、項 t が型 T を持ち、効果 ϕ を持つことを表す。ここで、Σ1 は項の実行
前に確保された stack で、Σ2 は項自身が確保した stack である。Σ2 は項が値にまで簡約しきる間にすべ
て解放されてないとならない。型システムではこれら 2 つを区別する。
型付け判断が dom(Σ1 ) ⊆ ∆ を満たすことを整合的であるといい、ここでは整合的な型付け判断だけ
を考えることにする。
```
p.6.
Collorary 2.6の記述を次のように修正
Σ ⊢ µ : σ かつ F P V (σ) ⊆ dom(Σ) ならば F P V (σ) ⊆ dom(Σ)

Σ ⊢ µ : σ かつ F P V (Σ) ⊆ dom(Σ) ならば F P V (σ) ⊆ dom(Σ)

p.8. Lemma 2.11の最初の仮定をΓ; ∆, •, ∆′ ; Σ1 , i : σ; ∅ ⊢ t : T &ϕに変更。

p.8.Stack pop補題の証明中で型付け判断の整合性を暗黙に使っていたのを明示。Lemma 2.11を変更したのに伴い記述を修正した。


p.9.
T-AppのΣの並びの定義を修正したのに伴い、E-App1の場合の証明を修正。また、E-App2の場合の証明の記述も追加。
